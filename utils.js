"use strict";
const fs = require('fs');
const content = 'Some content!';
const convertWordToNumber = (word) => {
    if (!word)
        return '';
    return word
        .replace(/[a-c]/g, '2')
        .replace(/[d-f]/g, '3')
        .replace(/[g-i]/g, '4')
        .replace(/[j-l]/g, '5')
        .replace(/[m-o]/g, '6')
        .replace(/[p-s]/g, '7')
        .replace(/[t-v]/g, '8')
        .replace(/[w-z]/g, '9');
};
const generateNumberWordsObject = () => {
    const words = require('an-array-of-english-words')
        .filter((item) => (3 <= item.length && item.length <= 7));
    const wordNumbers = {};
    words === null || words === void 0 ? void 0 : words.forEach((word) => {
        var _a;
        const number = convertWordToNumber(word);
        if (wordNumbers[number]) {
            (_a = wordNumbers[number]) === null || _a === void 0 ? void 0 : _a.push(word);
        }
        else {
            wordNumbers[number] = [word];
        }
    });
    fs.writeFile('./wordNumbers.txt', JSON.stringify(wordNumbers), (err) => {
        if (err) {
            console.error(err);
            return;
        }
    });
};
const generateVanityNumbers = (inputPhone) => {
    var _a, _b;
    const phone = inputPhone
        .trim()
        //.replace(/^\+[0-9]{1,3}(\s|\-)/, "") // exclude Country code
        .replace(/[-\s]/g, '');
    const decomposedPhoneArr = phone.split(/[0-1]/);
    const longestSequence = decomposedPhoneArr.reduce((a, b) => a.length > b.length ? a : b);
    const rawdata = fs.readFileSync('./resources/wordNumbers.txt');
    const dataMap = JSON.parse(rawdata);
    const vanityNumbers = [];
    const isVanityInArray = (vanityNumber) => vanityNumbers.includes(vanityNumber);
    for (let index = longestSequence.length; index >= 3; index--) {
        if (vanityNumbers.length >= 5)
            break;
        const fromEndKey = longestSequence.slice(-index);
        const fromStartKey = longestSequence.slice(0, index);
        let vanityNumber;
        (_a = dataMap[fromEndKey]) === null || _a === void 0 ? void 0 : _a.map((item) => {
            if (vanityNumbers.length < 5) {
                vanityNumber = phone.replace(fromEndKey, ` ${item} `).trim();
                !isVanityInArray(vanityNumber) && vanityNumbers.push(vanityNumber);
            }
        });
        (_b = dataMap[fromStartKey]) === null || _b === void 0 ? void 0 : _b.map((item) => {
            if (vanityNumbers.length < 5) {
                vanityNumber = phone.replace(fromStartKey, ` ${item} `).trim();
                !isVanityInArray(vanityNumber) && vanityNumbers.push(vanityNumber);
            }
        });
    }
    if ((vanityNumbers === null || vanityNumbers === void 0 ? void 0 : vanityNumbers.length) > 0) {
        return vanityNumbers.reduce((acc, item, index) => {
            acc[`VanityNumber${index + 1}`] = item;
            return acc;
        }, {});
    }
    return {
        VanityNumber1: 'No vanity numbers were found',
    };
};
generateNumberWordsObject();
// const testPhone = '+1 185 872 2665';
// const testPhone = '+11234567890';
// const testPhone = '+16617313960';
// console.log('%c =========== generateVanityNumbers() >>', 'color:#669851;font-size:12px', generateVanityNumbers(testPhone));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ1dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBRXhCLE1BQU0sT0FBTyxHQUFHLGVBQWUsQ0FBQTtBQUUvQixNQUFNLG1CQUFtQixHQUFHLENBQUMsSUFBWSxFQUFFLEVBQUU7SUFDM0MsSUFBSSxDQUFDLElBQUk7UUFBRSxPQUFPLEVBQUUsQ0FBQztJQUVyQixPQUFPLElBQUk7U0FDUixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztTQUN0QixPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQTtBQUVELE1BQU0seUJBQXlCLEdBQUcsR0FBRyxFQUFFO0lBQ3JDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztTQUMvQyxNQUFNLENBQUMsQ0FBQyxJQUFZLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBRW5FLE1BQU0sV0FBVyxHQUFRLEVBQUUsQ0FBQztJQUU1QixLQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsT0FBTyxDQUFDLENBQUMsSUFBWSxFQUFFLEVBQUU7O1FBQzlCLE1BQU0sTUFBTSxHQUFHLG1CQUFtQixDQUFD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LENBQUMsQ0FBQzthQUNwRTtRQUNILENBQUMsRUFBRTtLQUNKO0lBRUQsSUFBSSxDQUFBLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxNQUFNLElBQUcsQ0FBQyxFQUFFO1FBQzdCLE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDL0MsR0FBRyxDQUFDLGVBQWUsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQ3ZDLE9BQU8sR0FBRyxDQUFDO1FBQ2IsQ0FBQyxFQUFFLEVBQVMsQ0FBQyxDQUFDO0tBQ2Y7SUFFRCxPQUFPO1FBQ0wsYUFBYSxFQUFFLDhCQUE4QjtLQUM5QyxDQUFBO0FBQ0gsQ0FBQyxDQUFBO0FBRUQseUJBQXlCLEVBQUUsQ0FBQztBQUU1Qix1Q0FBdUM7QUFDdkMsb0NBQW9DO0FBQ3BDLG9DQUFvQztBQUVwQyw4SEFBOEgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcclxuXHJcbmNvbnN0IGNvbnRlbnQgPSAnU29tZSBjb250ZW50ISdcclxuXHJcbmNvbnN0IGNvbnZlcnRXb3JkVG9OdW1iZXIgPSAod29yZDogc3RyaW5nKSA9PiB7XHJcbiAgaWYgKCF3b3JkKSByZXR1cm4gJyc7XHJcblxyXG4gIHJldHVybiB3b3JkXHJcbiAgICAucmVwbGFjZSgvW2EtY10vZywgJzInKVxyXG4gICAgLnJlcGxhY2UoL1tkLWZdL2csICczJylcclxuICAgIC5yZXBsYWNlKC9bZy1pXS9nLCAnNCcpXHJcbiAgICAucmVwbGFjZSgvW2otbF0vZywgJzUnKVxyXG4gICAgLnJlcGxhY2UoL1ttLW9dL2csICc2JylcclxuICAgIC5yZXBsYWNlKC9bcC1zXS9nLCAnNycpXHJcbiAgICAucmVwbGFjZSgvW3Qtdl0vZywgJzgnKVxyXG4gICAgLnJlcGxhY2UoL1t3LXpdL2csICc5Jyk7XHJcbn1cclxuXHJcbmNvbnN0IGdlbmVyYXRlTnVtYmVyV29yZHNPYmplY3QgPSAoKSA9PiB7XHJcbiAgY29uc3Qgd29yZHMgPSByZXF1aXJlKCdhbi1hcnJheS1vZi1lbmdsaXNoLXdvcmRzJylcclxuICAgIC5maWx0ZXIoKGl0ZW06IHN0cmluZykgPT4gKDMgPD0gaXRlbS5sZW5ndGggJiYgaXRlbS5sZW5ndGggPD0gNykpXHJcblxyXG4gIGNvbnN0IHdvcmROdW1iZXJzOiBhbnkgPSB7fTtcclxuXHJcbiAgd29yZHM/LmZvckVhY2goKHdvcmQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgbnVtYmVyID0gY29udmVydFdvcmRUb051bWJlcih3b3JkKTtcclxuICAgIGlmICh3b3JkTnVtYmVyc1tudW1iZXJdKSB7XHJcbiAgICAgIHdvcmROdW1iZXJzW251bWJlcl0/LnB1c2god29yZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3b3JkTnVtYmVyc1tudW1iZXJdID0gW3dvcmRdO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBmcy53cml0ZUZpbGUoJy4vd29yZE51bWJlcnMudHh0JywgSlNPTi5zdHJpbmdpZnkod29yZE51bWJlcnMpLCAoZXJyOiBhbnkpID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGdlbmVyYXRlVmFuaXR5TnVtYmVycyA9IChpbnB1dFBob25lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBwaG9uZSA9IGlucHV0UGhvbmVcclxuICAgIC50cmltKClcclxuICAgIC8vLnJlcGxhY2UoL15cXCtbMC05XXsxLDN9KFxcc3xcXC0pLywgXCJcIikgLy8gZXhjbHVkZSBDb3VudHJ5IGNvZGVcclxuICAgIC5yZXBsYWNlKC9bLVxcc10vZywgJycpO1xyXG5cclxuICBjb25zdCBkZWNvbXBvc2VkUGhvbmVBcnIgPSBwaG9uZS5zcGxpdCgvWzAtMV0vKTtcclxuICBjb25zdCBsb25nZXN0U2VxdWVuY2UgPSBkZWNvbXBvc2VkUGhvbmVBcnIucmVkdWNlKChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4gYS5sZW5ndGggPiBiLmxlbmd0aCA/IGEgOiBiKTtcclxuICBjb25zdCByYXdkYXRhID0gZnMucmVhZEZpbGVTeW5jKCcuL3Jlc291cmNlcy93b3JkTnVtYmVycy50eHQnKTtcclxuICBjb25zdCBkYXRhTWFwID0gSlNPTi5wYXJzZShyYXdkYXRhKTtcclxuICBjb25zdCB2YW5pdHlOdW1iZXJzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBjb25zdCBpc1Zhbml0eUluQXJyYXkgPSAodmFuaXR5TnVtYmVyOiBzdHJpbmcpID0+IHZhbml0eU51bWJlcnMuaW5jbHVkZXModmFuaXR5TnVtYmVyKTtcclxuXHJcbiAgZm9yIChsZXQgaW5kZXggPSBsb25nZXN0U2VxdWVuY2UubGVuZ3RoOyBpbmRleCA+PSAzOyBpbmRleC0tKSB7XHJcbiAgICBpZiAodmFuaXR5TnVtYmVycy5sZW5ndGggPj0gNSkgYnJlYWs7XHJcblxyXG4gICAgY29uc3QgZnJvbUVuZEtleSA9IGxvbmdlc3RTZXF1ZW5jZS5zbGljZSgtaW5kZXgpO1xyXG4gICAgY29uc3QgZnJvbVN0YXJ0S2V5ID0gbG9uZ2VzdFNlcXVlbmNlLnNsaWNlKDAsIGluZGV4KTtcclxuXHJcbiAgICBsZXQgdmFuaXR5TnVtYmVyO1xyXG5cclxuICAgIGRhdGFNYXBbZnJvbUVuZEtleV0/Lm1hcCgoaXRlbTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmICh2YW5pdHlOdW1iZXJzLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICB2YW5pdHlOdW1iZXIgPSBwaG9uZS5yZXBsYWNlKGZyb21FbmRLZXksIGAgJHtpdGVtfSBgKS50cmltKCk7XHJcbiAgICAgICAgIWlzVmFuaXR5SW5BcnJheSh2YW5pdHlOdW1iZXIpICYmIHZhbml0eU51bWJlcnMucHVzaCh2YW5pdHlOdW1iZXIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkYXRhTWFwW2Zyb21TdGFydEtleV0/Lm1hcCgoaXRlbTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmICh2YW5pdHlOdW1iZXJzLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICB2YW5pdHlOdW1iZXIgPSBwaG9uZS5yZXBsYWNlKGZyb21TdGFydEtleSwgYCAke2l0ZW19IGApLnRyaW0oKTtcclxuICAgICAgICAhaXNWYW5pdHlJbkFycmF5KHZhbml0eU51bWJlcikgJiYgdmFuaXR5TnVtYmVycy5wdXNoKHZhbml0eU51bWJlcik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHZhbml0eU51bWJlcnM/Lmxlbmd0aCA+IDApIHtcclxuICAgIHJldHVybiB2YW5pdHlOdW1iZXJzLnJlZHVjZSgoYWNjLCBpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBhY2NbYFZhbml0eU51bWJlciR7aW5kZXggKyAxfWBdID0gaXRlbTtcclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9IGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgVmFuaXR5TnVtYmVyMTogJ05vIHZhbml0eSBudW1iZXJzIHdlcmUgZm91bmQnLFxyXG4gIH1cclxufVxyXG5cclxuZ2VuZXJhdGVOdW1iZXJXb3Jkc09iamVjdCgpO1xyXG5cclxuLy8gY29uc3QgdGVzdFBob25lID0gJysxIDE4NSA4NzIgMjY2NSc7XHJcbi8vIGNvbnN0IHRlc3RQaG9uZSA9ICcrMTEyMzQ1Njc4OTAnO1xyXG4vLyBjb25zdCB0ZXN0UGhvbmUgPSAnKzE2NjE3MzEzOTYwJztcclxuXHJcbi8vIGNvbnNvbGUubG9nKCclYyA9PT09PT09PT09PSBnZW5lcmF0ZVZhbml0eU51bWJlcnMoKSA+PicsICdjb2xvcjojNjY5ODUxO2ZvbnQtc2l6ZToxMnB4JywgZ2VuZXJhdGVWYW5pdHlOdW1iZXJzKHRlc3RQaG9uZSkpO1xyXG4iXX0=